<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeFill Architecture - Backend Services</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 100%);
            min-height: 100vh;
            padding: 40px;
            color: #fff;
        }
        .diagram {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255,255,255,0.02);
            border-radius: 24px;
            padding: 40px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .title {
            text-align: center;
            margin-bottom: 40px;
        }
        .title h1 {
            font-size: 28px;
            font-weight: 700;
            background: linear-gradient(135deg, #4ade80, #fbbf24);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 8px;
        }
        .title p {
            color: #888;
            font-size: 14px;
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
        }

        .service-group {
            background: rgba(255,255,255,0.03);
            border-radius: 16px;
            padding: 24px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .group-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
            padding-bottom: 12px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .group-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }
        .group-title {
            font-size: 16px;
            font-weight: 600;
        }
        .group-count {
            margin-left: auto;
            font-size: 12px;
            padding: 4px 10px;
            border-radius: 12px;
            background: rgba(255,255,255,0.1);
            color: #888;
        }

        .service-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        .service-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 12px;
            border-radius: 8px;
            background: rgba(255,255,255,0.03);
            font-size: 13px;
            transition: background 0.2s;
        }
        .service-item:hover {
            background: rgba(255,255,255,0.08);
        }
        .service-item .dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
        }
        .service-item .name {
            flex: 1;
        }
        .service-item .tech {
            font-size: 10px;
            color: #666;
        }

        /* Group Colors */
        .group-core .group-icon { background: linear-gradient(135deg, #4ade80, #22c55e); }
        .group-core .dot { background: #4ade80; }

        .group-ai .group-icon { background: linear-gradient(135deg, #a855f7, #9333ea); }
        .group-ai .dot { background: #a855f7; }

        .group-gamification .group-icon { background: linear-gradient(135deg, #fbbf24, #f59e0b); }
        .group-gamification .dot { background: #fbbf24; }

        .group-analysis .group-icon { background: linear-gradient(135deg, #3b82f6, #2563eb); }
        .group-analysis .dot { background: #3b82f6; }

        .group-session .group-icon { background: linear-gradient(135deg, #ec4899, #db2777); }
        .group-session .dot { background: #ec4899; }

        .group-external .group-icon { background: linear-gradient(135deg, #f97316, #ea580c); }
        .group-external .dot { background: #f97316; }

        /* Summary */
        .summary {
            display: flex;
            justify-content: center;
            gap: 60px;
            margin-top: 30px;
            padding-top: 24px;
            border-top: 1px solid rgba(255,255,255,0.1);
        }
        .summary-item {
            text-align: center;
        }
        .summary-value {
            font-size: 36px;
            font-weight: 700;
            color: #4ade80;
        }
        .summary-label {
            font-size: 12px;
            color: #888;
            margin-top: 4px;
        }
    </style>
</head>
<body>
    <div class="diagram">
        <div class="title">
            <h1>Backend Services Architecture</h1>
            <p>35+ Modular Services powering CodeFill's AI Learning Platform</p>
        </div>

        <div class="services-grid">
            <!-- Core Services -->
            <div class="service-group group-core">
                <div class="group-header">
                    <div class="group-icon">üîß</div>
                    <div class="group-title">Core</div>
                    <div class="group-count">7 services</div>
                </div>
                <div class="service-list">
                    <div class="service-item">
                        <div class="dot"></div>
                        <div class="name">RAG Service</div>
                        <div class="tech">pgvector</div>
                    </div>
                    <div class="service-item">
                        <div class="dot"></div>
                        <div class="name">Embedding Service</div>
                        <div class="tech">OpenAI</div>
                    </div>
                    <div class="service-item">
                        <div class="dot"></div>
                        <div class="name">Code Validator</div>
                        <div class="tech">Judge0</div>
                    </div>
                    <div class="service-item">
                        <div class="dot"></div>
                        <div class="name">Puzzle Validator</div>
                        <div class="tech">Custom</div>
                    </div>
                    <div class="service-item">
                        <div class="dot"></div>
                        <div class="name">Problem Save</div>
                        <div class="tech">Supabase</div>
                    </div>
                    <div class="service-item">
                        <div class="dot"></div>
                        <div class="name">Hint Service</div>
                        <div class="tech">LLM</div>
                    </div>
                    <div class="service-item">
                        <div class="dot"></div>
                        <div class="name">Dynamic Response</div>
                        <div class="tech">LLM</div>
                    </div>
                </div>
            </div>

            <!-- AI/LLM Services -->
            <div class="service-group group-ai">
                <div class="group-header">
                    <div class="group-icon">ü§ñ</div>
                    <div class="group-title">AI / LLM</div>
                    <div class="group-count">6 services</div>
                </div>
                <div class="service-list">
                    <div class="service-item">
                        <div class="dot"></div>
                        <div class="name">OpenRouter</div>
                        <div class="tech">Multi-LLM</div>
                    </div>
                    <div class="service-item">
                        <div class="dot"></div>
                        <div class="name">Gemini Service</div>
                        <div class="tech">Google AI</div>
                    </div>
                    <div class="service-item">
                        <div class="dot"></div>
                        <div class="name">Intent Classifier</div>
                        <div class="tech">Hybrid</div>
                    </div>
                    <div class="service-item">
                        <div class="dot"></div>
                        <div class="name">Moderation</div>
                        <div class="tech">OpenAI</div>
                    </div>
                    <div class="service-item">
                        <div class="dot"></div>
                        <div class="name">Extended Intent</div>
                        <div class="tech">Custom</div>
                    </div>
                    <div class="service-item">
                        <div class="dot"></div>
                        <div class="name">History Refiner</div>
                        <div class="tech">LLM</div>
                    </div>
                </div>
            </div>

            <!-- Gamification Services -->
            <div class="service-group group-gamification">
                <div class="group-header">
                    <div class="group-icon">üéÆ</div>
                    <div class="group-title">Gamification</div>
                    <div class="group-count">5 services</div>
                </div>
                <div class="service-list">
                    <div class="service-item">
                        <div class="dot"></div>
                        <div class="name">Badge Service</div>
                        <div class="tech">30+ badges</div>
                    </div>
                    <div class="service-item">
                        <div class="dot"></div>
                        <div class="name">Farm Service</div>
                        <div class="tech">Phaser.js</div>
                    </div>
                    <div class="service-item">
                        <div class="dot"></div>
                        <div class="name">Mission Service</div>
                        <div class="tech">Daily/Weekly</div>
                    </div>
                    <div class="service-item">
                        <div class="dot"></div>
                        <div class="name">Seed Reward</div>
                        <div class="tech">Drop Rate</div>
                    </div>
                    <div class="service-item">
                        <div class="dot"></div>
                        <div class="name">AB Testing</div>
                        <div class="tech">Feature Flag</div>
                    </div>
                </div>
            </div>

            <!-- Analysis Services -->
            <div class="service-group group-analysis">
                <div class="group-header">
                    <div class="group-icon">üìä</div>
                    <div class="group-title">Analysis</div>
                    <div class="group-count">6 services</div>
                </div>
                <div class="service-list">
                    <div class="service-item">
                        <div class="dot"></div>
                        <div class="name">Feedback Service</div>
                        <div class="tech">LLM + Metrics</div>
                    </div>
                    <div class="service-item">
                        <div class="dot"></div>
                        <div class="name">Analysis Service</div>
                        <div class="tech">ELO + BKT</div>
                    </div>
                    <div class="service-item">
                        <div class="dot"></div>
                        <div class="name">Metrics Calculator</div>
                        <div class="tech">BKT, Bloom</div>
                    </div>
                    <div class="service-item">
                        <div class="dot"></div>
                        <div class="name">Stats Cache</div>
                        <div class="tech">PostgreSQL</div>
                    </div>
                    <div class="service-item">
                        <div class="dot"></div>
                        <div class="name">Personalization</div>
                        <div class="tech">CF</div>
                    </div>
                    <div class="service-item">
                        <div class="dot"></div>
                        <div class="name">Search Quality</div>
                        <div class="tech">Logging</div>
                    </div>
                </div>
            </div>

            <!-- Session Services -->
            <div class="service-group group-session">
                <div class="group-header">
                    <div class="group-icon">üîÑ</div>
                    <div class="group-title">Session</div>
                    <div class="group-count">5 services</div>
                </div>
                <div class="service-list">
                    <div class="service-item">
                        <div class="dot"></div>
                        <div class="name">Session Tracker</div>
                        <div class="tech">State Mgmt</div>
                    </div>
                    <div class="service-item">
                        <div class="dot"></div>
                        <div class="name">Chat Session</div>
                        <div class="tech">Context</div>
                    </div>
                    <div class="service-item">
                        <div class="dot"></div>
                        <div class="name">User History</div>
                        <div class="tech">Supabase</div>
                    </div>
                    <div class="service-item">
                        <div class="dot"></div>
                        <div class="name">Memory Service</div>
                        <div class="tech">LangGraph</div>
                    </div>
                    <div class="service-item">
                        <div class="dot"></div>
                        <div class="name">PG Cache</div>
                        <div class="tech">TTL-based</div>
                    </div>
                </div>
            </div>

            <!-- External Services -->
            <div class="service-group group-external">
                <div class="group-header">
                    <div class="group-icon">üåê</div>
                    <div class="group-title">External</div>
                    <div class="group-count">6 services</div>
                </div>
                <div class="service-list">
                    <div class="service-item">
                        <div class="dot"></div>
                        <div class="name">Judge0</div>
                        <div class="tech">Sandbox</div>
                    </div>
                    <div class="service-item">
                        <div class="dot"></div>
                        <div class="name">Translator</div>
                        <div class="tech">Azure</div>
                    </div>
                    <div class="service-item">
                        <div class="dot"></div>
                        <div class="name">LangSmith Tracker</div>
                        <div class="tech">Monitoring</div>
                    </div>
                    <div class="service-item">
                        <div class="dot"></div>
                        <div class="name">Edge Case Logger</div>
                        <div class="tech">Debug</div>
                    </div>
                    <div class="service-item">
                        <div class="dot"></div>
                        <div class="name">Collaborative Filter</div>
                        <div class="tech">Recommend</div>
                    </div>
                    <div class="service-item">
                        <div class="dot"></div>
                        <div class="name">Collection Embed</div>
                        <div class="tech">Batch</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Summary -->
        <div class="summary">
            <div class="summary-item">
                <div class="summary-value">35+</div>
                <div class="summary-label">Total Services</div>
            </div>
            <div class="summary-item">
                <div class="summary-value">20</div>
                <div class="summary-label">API Routers</div>
            </div>
            <div class="summary-item">
                <div class="summary-value">6</div>
                <div class="summary-label">Service Groups</div>
            </div>
        </div>
    </div>
</body>
</html>
